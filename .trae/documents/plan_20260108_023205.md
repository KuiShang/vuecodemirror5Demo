## 实现方案：Vue2 + vue-codemirror 动态参数输入框

### 项目结构
```
apieditorvue2/
├── package.json
├── index.html
├── src/
│   ├── App.vue
│   ├── main.js
│   └── components/
│       └── DynamicParamEditor.vue
```

### 核心实现思路

1. **基础结构** - 创建 Vue2 项目，使用 vue-codemirror 作为编辑器
2. **CodeMirror 配置** - 使用 CodeMirror 的扩展功能实现语法高亮和自定义标记
3. **参数列表弹窗** - 监听键盘事件，按 `{` 时显示自定义参数列表
4. **变量插入** - 将选中的参数插入为 `{{变量名称}}`
5. **高亮显示** - 使用 CodeMirror 的 addLineWidget 或 decorations 实现变量高亮
6. **整体删除** - 监听删除键，检测光标是否在变量内部，实现整体删除
7. **悬浮提示** - 使用 CSS 和事件监听实现变量悬浮显示 dialog

### 关键技术点说明

1. **vue-codemirror**: Vue2 封装的 CodeMirror 组件，提供编辑器核心功能
2. **CodeMirror.addLineWidget**: 用于在行内添加自定义元素（如高亮的变量）
3. **CodeMirror.markText**: 用于标记文本范围，实现高亮效果
4. **键盘事件监听**: 监听 `{` 键显示参数列表，监听删除键实现整体删除
5. **光标位置管理**: 精确定位插入点和删除范围

### 详细代码文件

1. `package.json` - 项目配置和依赖
2. `src/main.js` - Vue2 应用入口
3. `src/App.vue` - 主应用组件
4. `src/components/DynamicParamEditor.vue` - 核心编辑器组件（包含详细注释）

这个组件将包含所有功能的完整实现，每个关键部分都有详细注释说明。